#!/usr/bin/env python
# -*- coding: utf-8 -*-

from math import degrees, radians, sin, cos, atan2
from haversine import haversine
'''
distance  of latitude   1(deg) = 111195.0802340(m/deg)
        distance  of longtitude 1(deg) =  88148.1011811(m/deg)
        latitude  of distance   1(m)   =      0.00000899320363721(deg/m)
        longitude of distance   1(m)   =      0.00001134454385970(deg/m)
 
        -------------+---------------------+----------------------
         Distance(m) |    latitude(deg)    |    longitude(deg)
        -------------+---------------------+----------------------
               1.0   | 0.00000899320363721 | 0.0000113445438597
              10.0   | 0.0000899320363721  | 0.000113445438597
        -------------+---------------------+----------------------
             100.0   | 0.000899320363721   | 0.00113445438597 ***
        -------------+---------------------+----------------------

|<-- 100(m)-->|<-- 100(m)-->|
           --- p8------------p1-------------p2-> 37.5588172985 
            ^   | .-45        |0          . |   (37.55791797814083+0.000899320363721)
            |   |   .         |         . 45|
           100  |     .       |       .     |
           (m)  |       .     |     .       |
            |   |         .   |   .         |
            v   |-90        . | .           |
           --- p7------------p0-------------p3-> 37.55791797814083
            ^   |           . | .         90|
            |   |         .   |   .         |
           100  |       .     |     .       |
           (m)  |     .       |       .     |
            |   -135.         |         .   |
            v   | .           |       135 . |
           --- p6------------p5-------------p4-> 37.5570186578
                |             |             |   (37.55791797814083-0.000899320363721)
                v             v             v
       126.997871304  126.9990057580825  127.000140212
          ^                                 ^
          |                                 |
   (126.9990057580825-0.00113445438597)     |
                                     (126.9990057580825+0.00113445438597)
     
p0 = (37.55791797814083, 126.9990057580825)
        
        p0 = (37.5579179781, 126.999005758)
        p1 = (37.5588172985, 126.999005758);   p5 = (37.5570186578, 126.999005758)
        p2 = (37.5588172985, 127.000140212);   p6 = (37.5570186578, 126.997871304)
        p3 = (37.5579179781, 127.000140212);   p7 = (37.5579179781, 126.997871304)
        p4 = (37.5570186578, 127.000140212);   p8 = (37.5588172985, 126.997871304)
'''
def bearing((lat1, long1), (lat2, long2)):
    
    Lat1,  Lat2  = radians(lat1),  radians(lat2) 
    Long1, Long2 = radians(long1), radians(long2) 
    
    y = sin(Long2-Long1)*cos(Lat2) 
    x = cos(Lat1)*sin(Lat2) - sin(Lat1)*cos(Lat2)*cos(Long2-Long1) 
    
    return degrees(atan2(y, x))   
    
if __name__ == '__main__':
    try:
        
        A = (37.05791797814083, 126.9990057580825);   B = (38.05791797814083, 126.9990057580825)
        C = (37.55791797814083, 126.4990057580825);   D = (37.55791797814083, 127.4990057580825)
        
        print "latitude  1(deg) is %s0(m)" %(haversine(A,B) * 1000)
        print "longitude 1(deg) is  %s(m)" %(haversine(C,D) * 1000)
        
        p0 = (37.5579179781, 126.999005758)        
        p1 = (37.5588172985, 126.999005758);   p5 = (37.5570186578, 126.999005758)
        p2 = (37.5588172985, 127.000140212);   p6 = (37.5570186578, 126.997871304)
        p3 = (37.5579179781, 127.000140212);   p7 = (37.5579179781, 126.997871304)
        p4 = (37.5570186578, 127.000140212);   p8 = (37.5588172985, 126.997871304)
        
        print "p1: dist = %s(m),\tbearing = %s(deg)" %(haversine(p0,p1)*1000, bearing(p0,p1))
        print "p2: dist = %s(m),\tbearing = %s(deg)" %(haversine(p0,p2)*1000, bearing(p0,p2))
        print "p3: dist = %s(m),\tbearing = %s(deg)" %(haversine(p0,p3)*1000, bearing(p0,p3))
        print "p4: dist = %s(m),\tbearing = %s(deg)" %(haversine(p0,p4)*1000, bearing(p0,p4))
        print "p5: dist = %s(m),\tbearing = %s(deg)" %(haversine(p0,p5)*1000, bearing(p0,p5))
        print "p6: dist = %s(m),\tbearing = %s(deg)" %(haversine(p0,p6)*1000, bearing(p0,p6))
        print "p7: dist = %s(m),\tbearing = %s(deg)" %(haversine(p0,p7)*1000, bearing(p0,p7))
        print "p8: dist = %s(m),\tbearing = %s(deg)" %(haversine(p0,p8)*1000, bearing(p0,p8))
        
    except KeyboardInterrupt:  pass
    
